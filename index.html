<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LoL Stat Tracker</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css?v=20260228-4">
</head>
<body>
  <main class="shell">
    <header class="hero">
      <div class="hero-top">
        <p class="eyebrow">League of Legends</p>
        <button id="customizeBtn" type="button" class="customize-btn">Customize</button>
      </div>
      <h1>Karma Kommand Kenter</h1>
      <p class="subtitle">Summoner's Rift command board focused on the highest-winrate Karma response to the current enemy botlane.</p>
      <p id="setupHeadline" class="setup-headline">Loading best matchup recommendation...</p>
    </header>

    <section class="search-card">
      <form id="searchForm" class="search-form">
        <input id="gameNameInput" type="text" value="feelsbanman" placeholder="Game Name" required>
        <input id="tagLineInput" type="text" value="EUW" placeholder="Tag Line" required>
        <select id="regionSelect">
          <option value="euw1" selected>EUW1</option>
          <option value="eun1">EUN1</option>
          <option value="na1">NA1</option>
          <option value="kr">KR</option>
          <option value="oc1">OC1</option>
        </select>
        <button id="searchBtn" type="submit">Refresh</button>
      </form>
      <p id="statusText" class="status">Shows latest 5 matches. Matchup recommendations use Diamond+ Deeplol samples.</p>
    </section>

    <section class="card otp-card">
      <div class="otp-head">
        <div>
          <h3>Diamond+ Matchup Lab (Deeplol)</h3>
          <p id="matchupStatus" class="status">Loading matchup recommendations...</p>
        </div>
        <div class="otp-controls">
          <label for="enemySupportSearch">Enemy Support</label>
          <input id="enemySupportSearch" class="filter-input" type="text" placeholder="Filter support champion...">
          <select id="enemySupportSelect"></select>
          <label for="enemyBotSearch">Enemy Bot Carry</label>
          <input id="enemyBotSearch" class="filter-input" type="text" placeholder="Filter bot champion...">
          <select id="enemyBotSelect"></select>
        </div>
      </div>
      <div class="otp-grid">
        <article class="mini otp-block">
          <h4>Best Build Vs Current Botlane</h4>
          <div id="matchupBuild" class="stack-text">Loading...</div>
          <div id="matchupBuildIcons" class="icon-row"></div>
          <button id="matchupRunesBtn" type="button" class="rune-btn">Open Matchup Runes</button>
        </article>
        <article class="mini otp-block">
          <h4>Sample / Filter</h4>
          <div id="matchupMeta" class="stack-text">Loading...</div>
        </article>
        <article class="mini otp-block">
          <h4>Execution Notes</h4>
          <ul id="matchupAdvice" class="advice-list">
            <li>Loading...</li>
          </ul>
        </article>
      </div>
    </section>

    <div id="runesModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="runesTitle">
      <div class="modal-card">
        <div class="modal-head">
          <h3 id="runesTitle">Runes</h3>
          <button id="closeRunesModal" type="button" class="close-btn">Close</button>
        </div>
        <div id="runesBody" class="runes-layout"></div>
      </div>
    </div>

    <div id="customizeModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="customizeTitle">
      <div class="modal-card customize-card">
        <div class="modal-head">
          <h3 id="customizeTitle">Theme Customization</h3>
          <button id="closeCustomizeModal" type="button" class="close-btn">Close</button>
        </div>
        <div class="customize-controls">
          <label class="toggle-row">
            <input id="rainToggle" type="checkbox" checked>
            <span>Enable Matrix Rain</span>
          </label>
          <h4>Preset Themes</h4>
          <div id="presetGrid" class="preset-grid"></div>
          <h4>Full Color Controls</h4>
          <div class="color-grid">
            <label>Background 1<input id="color-bg-0" type="color"></label>
            <label>Background 2<input id="color-bg-1" type="color"></label>
            <label>Panel<input id="color-panel" type="color"></label>
            <label>Panel Soft<input id="color-panel-soft" type="color"></label>
            <label>Text<input id="color-ink" type="color"></label>
            <label>Muted Text<input id="color-muted" type="color"></label>
            <label>Gold<input id="color-gold" type="color"></label>
            <label>Gold Strong<input id="color-gold-strong" type="color"></label>
            <label>Accent<input id="color-accent" type="color"></label>
          </div>
          <div class="customize-actions">
            <button id="applyThemeBtn" type="button" class="rune-btn">Apply</button>
            <button id="resetThemeBtn" type="button" class="rune-btn">Reset</button>
          </div>
        </div>
      </div>
    </div>

    <section id="dashboard" class="dashboard hidden">
      <div class="card wide impact-score">
        <h3>Karma Improvement Score</h3>
        <div id="improvementScore" class="score-box">-</div>
        <ul id="focusTargets" class="advice-list"></ul>
      </div>

      <div class="profile-card card">
        <h2 id="playerHeading">Player</h2>
        <div id="profileMeta" class="profile-meta"></div>
      </div>

      <div class="aggregate-grid">
        <article class="card metric"><h3>Games</h3><p id="gamesMetric">-</p></article>
        <article class="card metric"><h3>Win Rate</h3><p id="winRateMetric">-</p></article>
        <article class="card metric"><h3>Avg KDA</h3><p id="kdaMetric">-</p></article>
        <article class="card metric"><h3>Avg CS</h3><p id="csMetric">-</p></article>
      </div>

      <div class="card support-focus">
        <h3>Support Focus</h3>
        <div class="support-grid">
          <article class="metric mini"><h4>Primary Role</h4><p id="supportRoleMetric">-</p></article>
          <article class="metric mini"><h4>Support Rate</h4><p id="supportRateMetric">-</p></article>
          <article class="metric mini"><h4>Vision / Game</h4><p id="supportVisionMetric">-</p></article>
          <article class="metric mini"><h4>Control Wards / Game</h4><p id="supportControlMetric">-</p></article>
          <article class="metric mini"><h4>Kill Participation</h4><p id="supportKpMetric">-</p></article>
          <article class="metric mini"><h4>Ally Utility / Game</h4><p id="supportUtilityMetric">-</p></article>
        </div>
      </div>

      <div class="card wide">
        <h3>Lane Phase (First 14m)</h3>
        <div id="laneStats" class="stack-text"></div>
      </div>

      <div class="card wide">
        <h3>Matchup Breakdown</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Enemy Support</th>
                <th>Enemy Bot</th>
                <th>Games</th>
                <th>Win Rate</th>
                <th>Avg KP</th>
                <th>Avg Deaths</th>
                <th>Vision/min</th>
              </tr>
            </thead>
            <tbody id="matchupBody"></tbody>
          </table>
        </div>
      </div>

      <div class="card wide">
        <h3>Recent Matches</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Champion</th>
                <th>Role</th>
                <th>Result</th>
                <th>K / D / A</th>
                <th>KP</th>
                <th>Vision</th>
                <th>Ctrl</th>
                <th>Clear</th>
                <th>Utility</th>
                <th>CS</th>
                <th>Gold</th>
                <th>Duration</th>
              </tr>
            </thead>
            <tbody id="matchesBody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>
  <script src="app.js?v=20260228-4"></script>
</body>
</html>
